{"ast":null,"code":"import _slicedToArray from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from'react';import{Container}from'react-bootstrap';import firebaseConfig,{auth}from'../utils/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminSettings=function AdminSettings(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),disableSave=_React$useState2[0],setDisableSave=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),registerOn=_React$useState4[0],setRegisterOn=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),stateRegister=_React$useState6[0],setStateRegister=_React$useState6[1];useEffect(function(){var bdRef=firebaseConfig.database();bdRef.ref('systemSettings').on('value',function(snapshot){var config=snapshot.val();setStateRegister(config.register);},function(error){return console.log(error);});},[]);var saveSettings=function saveSettings(){var bdRef=firebaseConfig.database();bdRef.ref('systemSettings').update({register:registerOn}).then(function(){setDisableSave(true);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Container,{className:\"pt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Configuraciones\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Disponibilidad del registro para pasantes: \"}),/*#__PURE__*/_jsx(\"label\",{className:\"mr-sm-2 sr-only\",htmlFor:\"inlineFormCustomSelect\",children:\"Opciones\"}),stateRegister?/*#__PURE__*/_jsxs(\"select\",{defaultValue:stateRegister,className:\"custom-select mr-sm-2\",style:{width:'160px'},id:\"inlineFormCustomSelect\",onChange:function onChange(e){setRegisterOn(e.target.value);setDisableSave(false);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Activo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Desactivado\"})]}):'']}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:saveSettings,className:\"btn btn-lg btn-block hero-button float-right rdjf\",disabled:disableSave,style:{width:'100px'},children:\"Guardar\"})]})]})})});};export default AdminSettings;","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Pages/AdminSettings.js"],"names":["React","useEffect","Container","firebaseConfig","auth","AdminSettings","useState","disableSave","setDisableSave","registerOn","setRegisterOn","stateRegister","setStateRegister","bdRef","database","ref","on","snapshot","config","val","register","error","console","log","saveSettings","update","then","width","e","target","value"],"mappings":"kKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,cAAP,EAAyBC,IAAzB,KAAqC,mBAArC,C,6IAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,oBAAsCL,KAAK,CAACM,QAAN,CAAe,IAAf,CAAtC,oDAAOC,WAAP,qBAAoBC,cAApB,qBACA,qBAAoCR,KAAK,CAACM,QAAN,CAAe,IAAf,CAApC,qDAAOG,UAAP,qBAAmBC,aAAnB,qBACA,qBAA0CV,KAAK,CAACM,QAAN,CAAe,IAAf,CAA1C,qDAAOK,aAAP,qBAAsBC,gBAAtB,qBAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,KAAK,CAAGV,cAAc,CAACW,QAAf,EAAd,CACAD,KAAK,CAACE,GAAN,CAAU,gBAAV,EAA4BC,EAA5B,CAA+B,OAA/B,CAAwC,SAAAC,QAAQ,CAAI,CAClD,GAAMC,CAAAA,MAAM,CAAGD,QAAQ,CAACE,GAAT,EAAf,CACAP,gBAAgB,CAACM,MAAM,CAACE,QAAR,CAAhB,CACD,CAHD,CAGG,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAHH,EAID,CANQ,CAMN,EANM,CAAT,CAOA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMX,CAAAA,KAAK,CAAGV,cAAc,CAACW,QAAf,EAAd,CACAD,KAAK,CAACE,GAAN,CAAU,gBAAV,EACGU,MADH,CACU,CACNL,QAAQ,CAAEX,UADJ,CADV,EAIGiB,IAJH,CAIQ,UAAM,CACVlB,cAAc,CAAC,IAAD,CAAd,CACD,CANH,EAQD,CAVD,CAWA,mBACE,sCACE,kCACE,MAAC,SAAD,EAAW,SAAS,CAAC,MAArB,wBACE,uCADF,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,SAAf,wBACE,aAAK,SAAS,CAAC,gCAAf,wBACE,mEADF,cAEE,cAAO,SAAS,CAAC,iBAAjB,CAAmC,OAAO,CAAC,wBAA3C,sBAFF,CAGGG,aAAa,cACZ,gBAAQ,YAAY,CAAEA,aAAtB,CAAqC,SAAS,CAAC,uBAA/C,CAAuE,KAAK,CAAE,CAAEgB,KAAK,CAAE,OAAT,CAA9E,CACQ,EAAE,CAAC,wBADX,CACoC,QAAQ,CAAE,kBAACC,CAAD,CAAO,CACnDlB,aAAa,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,CACAtB,cAAc,CAAC,KAAD,CAAd,CACD,CAJD,wBAKE,eAAQ,KAAK,CAAC,MAAd,oBALF,cAME,eAAQ,KAAK,CAAC,OAAd,yBANF,GADY,CAQA,EAXhB,GADF,cAeE,aAfF,cAgBE,eAAQ,OAAO,CAAEgB,YAAjB,CAA+B,SAAS,CAAC,mDAAzC,CACQ,QAAQ,CAAEjB,WADlB,CAC+B,KAAK,CAAE,CAAEoB,KAAK,CAAE,OAAT,CADtC,qBAhBF,GAHF,GADF,EADF,EADF,CA8BD,CArDD,CAuDA,cAAetB,CAAAA,aAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Container } from 'react-bootstrap';\r\nimport firebaseConfig, { auth } from '../utils/firebase';\r\n\r\n\r\nconst AdminSettings = () => {\r\n  const [disableSave, setDisableSave] = React.useState(true);\r\n  const [registerOn, setRegisterOn] = React.useState(null);\r\n  const [stateRegister, setStateRegister] = React.useState(null);\r\n\r\n  useEffect(() => {\r\n    const bdRef = firebaseConfig.database();\r\n    bdRef.ref('systemSettings').on('value', snapshot => {\r\n      const config = snapshot.val();\r\n      setStateRegister(config.register);\r\n    }, (error) => console.log(error));\r\n  }, []);\r\n  const saveSettings = () => {\r\n    const bdRef = firebaseConfig.database();\r\n    bdRef.ref('systemSettings')\r\n      .update({\r\n        register: registerOn\r\n      })\r\n      .then(() => {\r\n        setDisableSave(true);\r\n      });\r\n\r\n  };\r\n  return (\r\n    <>\r\n      <div>\r\n        <Container className='pt-4'>\r\n          <h3>Configuraciones</h3>\r\n          <hr />\r\n          <div className='options'>\r\n            <div className='d-flex justify-content-between'>\r\n              <h5>Disponibilidad del registro para pasantes: </h5>\r\n              <label className='mr-sm-2 sr-only' htmlFor='inlineFormCustomSelect'>Opciones</label>\r\n              {stateRegister ?\r\n                <select defaultValue={stateRegister} className='custom-select mr-sm-2' style={{ width: '160px' }}\r\n                        id='inlineFormCustomSelect' onChange={(e) => {\r\n                  setRegisterOn(e.target.value);\r\n                  setDisableSave(false);\r\n                }}>\r\n                  <option value='true'>Activo</option>\r\n                  <option value='false'>Desactivado</option>\r\n                </select> : ''\r\n              }\r\n            </div>\r\n            <hr />\r\n            <button onClick={saveSettings} className='btn btn-lg btn-block hero-button float-right rdjf'\r\n                    disabled={disableSave} style={{ width: '100px' }}>Guardar\r\n            </button>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminSettings;\r\n"]},"metadata":{},"sourceType":"module"}