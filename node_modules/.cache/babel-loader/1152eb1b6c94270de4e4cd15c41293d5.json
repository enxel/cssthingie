{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RaulGuillen\\\\Desktop\\\\ONG\\\\pop_rdj_js\\\\src\\\\Container\\\\TableContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport firebaseConfig, { auth, db } from '../utils/firebase';\nimport moment from 'moment';\nimport { Table, Modal, Button } from 'react-bootstrap';\nimport SurveyContainer from './SurveyContainer';\nimport logoRdf from '../Resources/logo_rjf.png';\nimport gifTenor from '../Resources/tenor.gif';\nimport Calendar from '../Components/Calendar';\nimport SvgWithMessage from '../Components/SvgWithMessage';\nimport { ReactComponent as Empty } from \"@svgr/webpack?-svgo,+titleProp,+ref!./empty.svg\";\nimport { FaCheckCircle } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TableContainer = () => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [showEmpty, setShowEmpty] = useState(false);\n  const [confirm, setConfirm] = useState(false);\n  const [usersAlreadyEvaluated, setUsersAlreadyEvaluated] = useState([]);\n  const [dataModal, setDataModal] = useState({\n    company: '',\n    userToEvaluate: '',\n    userId: '',\n    typeOfPerson: ''\n  });\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [companies, setCompanies] = useState([]);\n  const [data, setData] = useState([]);\n  const [answers, setAnswers] = useState([]);\n  const [validUsersForcurrentUser, serValidUsersForcurrentUser] = useState([]);\n  const [currentUserData, setCurrentUserData] = useState({});\n\n  const setUsersOnMount = (currentUser, dataList) => {\n    const validUsers = dataList === null || dataList === void 0 ? void 0 : dataList.filter(userEvaluated => userEvaluated.company.includes(currentUser.idCompany));\n    serValidUsersForcurrentUser(validUsers);\n  };\n\n  useEffect(() => {\n    writeFirebaseData('companies');\n    writeFirebaseData('users');\n    writeFirebaseData('answers'); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const writeFirebaseData = refTable => {\n    const userRef = firebaseConfig.database().ref(refTable);\n    userRef.on('value', snapshot => {\n      const usersFirebase = snapshot.val();\n      const dataList = [];\n\n      for (let id in usersFirebase) {\n        dataList.push({\n          id,\n          ...usersFirebase[id]\n        });\n      }\n\n      switch (refTable) {\n        case 'users':\n          setData(dataList);\n          db.ref('auth').on('value', snapshot => {\n            const authUsers = snapshot.val();\n            let currentUser = undefined;\n            authUsers.forEach(user => {\n              if (user.email === auth.currentUser.email) {\n                currentUser = user;\n              }\n            });\n            setCurrentUserData(currentUser);\n            setUsersOnMount(currentUser, dataList);\n          }, error => console.log(error));\n          break;\n\n        case 'companies':\n          setCompanies(dataList);\n          break;\n\n        default:\n          setAnswers(dataList);\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (selectedDays.length > 0) {\n      const validAnswers = [];\n      validUsersForcurrentUser.forEach(validUser => {\n        let validAnswer = undefined;\n        answers.forEach(answer => {\n          if (answer.userId === validUser.id) {\n            validAnswer = answer;\n            validAnswer && validAnswers.push(validAnswer);\n          }\n        });\n      });\n      console.log(validAnswers);\n      const usersToBlock = [];\n      validAnswers.forEach(item => {\n        if (item.weekToEvaluate[0] === moment(selectedDays[1]).format('LL') && item.weekToEvaluate[1] === moment(selectedDays[5]).format('LL')) {\n          usersToBlock.push(item.userId);\n        }\n      });\n      console.log(usersToBlock);\n      setUsersAlreadyEvaluated(usersToBlock);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [selectedDays, answers]);\n\n  const showEvaluation = (name, type, id) => {\n    if (selectedDays.length === 7) {\n      const companyToShow = companies.find(element => element.id === currentUserData.idCompany);\n      setDataModal({\n        userToEvaluate: name,\n        company: companyToShow.name,\n        userId: id,\n        typeOfPerson: type\n      });\n      setShow(true);\n    } else {\n      setShowEmpty(true);\n    }\n  };\n\n  const tableToRender = /*#__PURE__*/_jsxDEV(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    className: \"w-75\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"text-center\",\n          children: \"Nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"text-center\",\n          children: \"Accion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: data === null || data === void 0 ? void 0 : data.filter(userEvaluated => userEvaluated.company.includes(currentUserData.idCompany)).map(person => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"text-center\",\n          children: person.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"d-flex justify-content-center\",\n          children: usersAlreadyEvaluated.includes(person.id) ? /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n            style: {\n              color: '#28a745',\n              fontSize: 37\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 16\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => showEvaluation(person.name, person.type, person.id),\n            style: {\n              backgroundColor: '#FE3E00',\n              borderBlockColor: '#FE3E00',\n              boxShadow: '#FE3E00',\n              borderBottomColor: '#FE3E00',\n              borderColor: '#FE3E00'\n            },\n            children: \"Evaluar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n\n  const hideFormShowConfirm = () => {\n    setShow(false);\n    setConfirm(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex align-items-center container-fluid min-vh-100 mt-5 flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logoRdf,\n      width: 350,\n      className: \"p-3 img-fluid\",\n      alt: \"RDF Logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \" Bienvenido a la evaluaci\\xF3n de pasantes \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"mb-3\",\n      children: \"Por favor sigue estos sencillos pasos:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-75 mb-4 h4\",\n      children: [/*#__PURE__*/_jsxDEV(\"ol\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Establece la fecha a evaluar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), \" Para esto, puedes navegar con las fechas en el calendario para establecer el mes a evaluar y luego debes dar click en el calendario sobre la semana que deseas evaluar.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            selectedDays: selectedDays,\n            setSelectedDays: setSelectedDays\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Selecciona persona a evaluar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), \" En el siguiente listado, por favor da click en el bot\\xF3n correspondiente al pasante que deseas evaluar.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: selectedDays.length === 7 ? /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"bg-success text-white rounded px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Est\\xE1s evaluando la semana:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), moment(selectedDays[1]).format('LL'), \" \\u2013\", ' ', moment(selectedDays[5]).format('LL')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-weight-bold bg-danger text-white rounded px-4\",\n          children: \"A\\xFAn no has establecido una semana para evaluar \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), tableToRender, /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: () => {\n        setShow(false);\n      },\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      size: \"xl\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Evaluar a pasante\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(SurveyContainer, {\n          hideModal: hideFormShowConfirm,\n          userId: dataModal.userId,\n          nameToShow: dataModal.userToEvaluate,\n          company: dataModal.company,\n          typeOfPerson: dataModal.typeOfPerson,\n          weekToEvaluate: [moment(selectedDays[1]).format('LL'), moment(selectedDays[5]).format('LL')]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: confirm,\n      onHide: () => {\n        setConfirm(false);\n      },\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Formulario enviado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column justify-content-center align-items-center\",\n          children: [\"Hemos recibido tus datos correctamente.\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n            src: gifTenor,\n            alt: \"\",\n            width: 100\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => {\n            setConfirm(false);\n          },\n          style: {\n            backgroundColor: '#FE3E00',\n            borderBlockColor: '#FE3E00',\n            boxShadow: '#FE3E00',\n            borderBottomColor: '#FE3E00',\n            borderColor: '#FE3E00'\n          },\n          children: \"Aceptar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: confirm,\n      onHide: () => {\n        setConfirm(false);\n      },\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Formulario enviado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column justify-content-center align-items-center\",\n          children: [\"Hemos recibido tus datos correctamente.\", ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n            src: gifTenor,\n            alt: \"\",\n            width: 100\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => {\n            setConfirm(false);\n          },\n          style: {\n            backgroundColor: '#FE3E00',\n            borderBlockColor: '#FE3E00',\n            boxShadow: '#FE3E00',\n            borderBottomColor: '#FE3E00',\n            borderColor: '#FE3E00'\n          },\n          children: \"Aceptar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showEmpty,\n      onHide: () => {\n        setShowEmpty(false);\n      },\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      size: \"xl\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(SvgWithMessage, {\n          Component: Empty,\n          headMessage: \"Datos incompletos\",\n          message: \"Opps!! parece que aun no has seleccionado una semana para evaluar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TableContainer, \"Qg2WskILL9txPWbgw8iTXe5io6E=\");\n\n_c = TableContainer;\nexport default TableContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableContainer\");","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Container/TableContainer.js"],"names":["React","useState","useEffect","firebaseConfig","auth","db","moment","Table","Modal","Button","SurveyContainer","logoRdf","gifTenor","Calendar","SvgWithMessage","FaCheckCircle","TableContainer","show","setShow","showEmpty","setShowEmpty","confirm","setConfirm","usersAlreadyEvaluated","setUsersAlreadyEvaluated","dataModal","setDataModal","company","userToEvaluate","userId","typeOfPerson","selectedDays","setSelectedDays","companies","setCompanies","data","setData","answers","setAnswers","validUsersForcurrentUser","serValidUsersForcurrentUser","currentUserData","setCurrentUserData","setUsersOnMount","currentUser","dataList","validUsers","filter","userEvaluated","includes","idCompany","writeFirebaseData","refTable","userRef","database","ref","on","snapshot","usersFirebase","val","id","push","authUsers","undefined","forEach","user","email","error","console","log","length","validAnswers","validUser","validAnswer","answer","usersToBlock","item","weekToEvaluate","format","showEvaluation","name","type","companyToShow","find","element","tableToRender","map","person","color","fontSize","backgroundColor","borderBlockColor","boxShadow","borderBottomColor","borderColor","hideFormShowConfirm","Empty"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport firebaseConfig, { auth, db } from '../utils/firebase';\r\nimport moment from 'moment';\r\nimport { Table, Modal, Button } from 'react-bootstrap';\r\nimport SurveyContainer from './SurveyContainer';\r\nimport logoRdf from '../Resources/logo_rjf.png';\r\nimport gifTenor from '../Resources/tenor.gif';\r\nimport Calendar from '../Components/Calendar';\r\nimport SvgWithMessage from '../Components/SvgWithMessage';\r\nimport { ReactComponent as Empty } from './empty.svg';\r\nimport { FaCheckCircle } from 'react-icons/fa';\r\n\r\nconst TableContainer = () => {\r\n  const [show, setShow] = useState(false);\r\n  const [showEmpty, setShowEmpty] = useState(false);\r\n  const [confirm, setConfirm] = useState(false);\r\n  const [usersAlreadyEvaluated, setUsersAlreadyEvaluated] = useState([]);\r\n  const [dataModal, setDataModal] = useState(\r\n    {\r\n      company: '',\r\n      userToEvaluate: '',\r\n      userId: '',\r\n      typeOfPerson: ''\r\n    }\r\n  );\r\n  const [selectedDays, setSelectedDays] = useState([]);\r\n  const [companies, setCompanies] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [answers, setAnswers] = useState([]);\r\n  const [validUsersForcurrentUser, serValidUsersForcurrentUser] = useState([]);\r\n  const [currentUserData, setCurrentUserData] = useState({});\r\n\r\n\r\n  const setUsersOnMount = (currentUser, dataList) => {\r\n    const validUsers = dataList?.filter(userEvaluated => userEvaluated.company.includes(currentUser.idCompany));\r\n    serValidUsersForcurrentUser(validUsers);\r\n  };\r\n\r\n  useEffect(() => {\r\n    writeFirebaseData('companies');\r\n    writeFirebaseData('users');\r\n    writeFirebaseData('answers');\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n\r\n  const writeFirebaseData = (refTable) => {\r\n    const userRef = firebaseConfig.database().ref(refTable);\r\n    userRef.on('value', (snapshot) => {\r\n      const usersFirebase = snapshot.val();\r\n      const dataList = [];\r\n      for (let id in usersFirebase) {\r\n        dataList.push({ id, ...usersFirebase[id] });\r\n      }\r\n      switch (refTable) {\r\n        case 'users':\r\n          setData(dataList);\r\n          db.ref('auth').on('value', snapshot => {\r\n            const authUsers = snapshot.val();\r\n            let currentUser = undefined;\r\n            authUsers.forEach(user => {\r\n              if (user.email === auth.currentUser.email) {\r\n                currentUser = user;\r\n              }\r\n            });\r\n            setCurrentUserData(currentUser);\r\n            setUsersOnMount(currentUser, dataList);\r\n          }, (error) => console.log(error));\r\n          break;\r\n        case 'companies':\r\n          setCompanies(dataList);\r\n          break;\r\n        default:\r\n          setAnswers(dataList);\r\n\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedDays.length > 0) {\r\n      const validAnswers = [];\r\n      validUsersForcurrentUser.forEach(validUser => {\r\n        let validAnswer = undefined;\r\n        answers.forEach(answer => {\r\n          if (answer.userId === validUser.id) {\r\n            validAnswer = answer;\r\n            validAnswer && validAnswers.push(validAnswer);\r\n          }\r\n        });\r\n      });\r\n      console.log(validAnswers);\r\n      const usersToBlock = [];\r\n      validAnswers.forEach(item => {\r\n        if (item.weekToEvaluate[0] === moment(selectedDays[1]).format('LL') &&\r\n          item.weekToEvaluate[1] === moment(selectedDays[5]).format('LL')) {\r\n          usersToBlock.push(item.userId);\r\n        }\r\n      });\r\n      console.log(usersToBlock);\r\n      setUsersAlreadyEvaluated(usersToBlock);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedDays, answers]);\r\n\r\n\r\n  const showEvaluation = (name, type, id) => {\r\n    if (selectedDays.length === 7) {\r\n      const companyToShow = companies.find(element => element.id === currentUserData.idCompany);\r\n      setDataModal({\r\n        userToEvaluate: name,\r\n        company: companyToShow.name,\r\n        userId: id,\r\n        typeOfPerson: type\r\n      });\r\n      setShow(true);\r\n    } else {\r\n      setShowEmpty(true);\r\n    }\r\n\r\n  };\r\n\r\n  const tableToRender = (\r\n    <Table striped bordered hover className='w-75'>\r\n      <thead>\r\n      <tr>\r\n        <th className='text-center'>Nombre</th>\r\n        <th className='text-center'>Accion</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      {data?.filter(userEvaluated => userEvaluated.company.includes(currentUserData.idCompany)).map(person => (\r\n        <tr>\r\n          <td className='text-center'>{person.name}</td>\r\n          <td className='d-flex justify-content-center'>\r\n            {usersAlreadyEvaluated.includes(person.id) ?\r\n              (<FaCheckCircle style={{ color: '#28a745', fontSize: 37 }} />)\r\n              : (\r\n                <Button\r\n                  variant='primary'\r\n                  onClick={() => showEvaluation(person.name, person.type, person.id)}\r\n                  style={{\r\n                    backgroundColor: '#FE3E00',\r\n                    borderBlockColor: '#FE3E00',\r\n                    boxShadow: '#FE3E00',\r\n                    borderBottomColor: '#FE3E00',\r\n                    borderColor: '#FE3E00'\r\n                  }}\r\n                >\r\n                  Evaluar\r\n                </Button>\r\n              )\r\n            }\r\n\r\n          </td>\r\n        </tr>\r\n      ))}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n\r\n  const hideFormShowConfirm = () => {\r\n    setShow(false);\r\n    setConfirm(true);\r\n  };\r\n\r\n  return (\r\n    <div className='d-flex align-items-center container-fluid min-vh-100 mt-5 flex-column'>\r\n      <img\r\n        src={logoRdf}\r\n        width={350}\r\n        className='p-3 img-fluid'\r\n        alt='RDF Logo'\r\n      />\r\n      <h1 className='mb-4'> Bienvenido a la evaluación de pasantes </h1>\r\n\r\n      <h4 className='mb-3'>Por favor sigue estos sencillos pasos:</h4>\r\n      <div className='w-75 mb-4 h4'>\r\n        <ol>\r\n          <li><strong>Establece la fecha a evaluar:</strong> Para esto, puedes navegar con las fechas en el calendario\r\n            para establecer el mes a evaluar y luego debes dar click en el calendario sobre la semana que deseas\r\n            evaluar.\r\n          </li>\r\n          <div className='d-flex justify-content-center'>\r\n            <Calendar selectedDays={selectedDays} setSelectedDays={setSelectedDays} />\r\n          </div>\r\n          <li><strong>Selecciona persona a evaluar:</strong> En el siguiente listado, por favor da click en el botón\r\n            correspondiente al pasante que deseas evaluar.\r\n          </li>\r\n        </ol>\r\n        <div className='d-flex justify-content-center'>\r\n          {selectedDays.length === 7 ? (\r\n              <h4 className='bg-success text-white rounded px-4'>\r\n                <strong>Estás evaluando la semana:</strong>\r\n                {moment(selectedDays[1]).format('LL')} –{' '}\r\n                {moment(selectedDays[5]).format('LL')}\r\n              </h4>\r\n            ) :\r\n            (\r\n              <h4 className='font-weight-bold bg-danger text-white rounded px-4'>Aún no has establecido una semana para\r\n                evaluar </h4>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n\r\n      {tableToRender}\r\n      <Modal\r\n        show={show}\r\n        onHide={() => {\r\n          setShow(false);\r\n        }}\r\n        aria-labelledby='contained-modal-title-vcenter'\r\n        size='xl'\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Evaluar a pasante</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <SurveyContainer\r\n            hideModal={hideFormShowConfirm}\r\n            userId={dataModal.userId}\r\n            nameToShow={dataModal.userToEvaluate}\r\n            company={dataModal.company}\r\n            typeOfPerson={dataModal.typeOfPerson}\r\n            weekToEvaluate={[moment(selectedDays[1]).format('LL'), moment(selectedDays[5]).format('LL')]}\r\n          />\r\n        </Modal.Body>\r\n\r\n      </Modal>\r\n\r\n      <Modal\r\n        show={confirm}\r\n        onHide={() => {\r\n          setConfirm(false);\r\n        }}\r\n        aria-labelledby='contained-modal-title-vcenter'\r\n        centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Formulario enviado</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className='d-flex flex-column justify-content-center align-items-center'>\r\n            Hemos recibido tus datos correctamente.{' '}\r\n            <img src={gifTenor} alt='' width={100} />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant='primary'\r\n            onClick={() => {\r\n              setConfirm(false);\r\n            }}\r\n            style={{\r\n              backgroundColor: '#FE3E00',\r\n              borderBlockColor: '#FE3E00',\r\n              boxShadow: '#FE3E00',\r\n              borderBottomColor: '#FE3E00',\r\n              borderColor: '#FE3E00'\r\n            }}\r\n          >\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        show={confirm}\r\n        onHide={() => {\r\n          setConfirm(false);\r\n        }}\r\n        aria-labelledby='contained-modal-title-vcenter'\r\n        centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Formulario enviado</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className='d-flex flex-column justify-content-center align-items-center'>\r\n            Hemos recibido tus datos correctamente.{' '}\r\n            <img src={gifTenor} alt='' width={100} />\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            variant='primary'\r\n            onClick={() => {\r\n              setConfirm(false);\r\n            }}\r\n            style={{\r\n              backgroundColor: '#FE3E00',\r\n              borderBlockColor: '#FE3E00',\r\n              boxShadow: '#FE3E00',\r\n              borderBottomColor: '#FE3E00',\r\n              borderColor: '#FE3E00'\r\n            }}\r\n          >\r\n            Aceptar\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        show={showEmpty}\r\n        onHide={() => {\r\n          setShowEmpty(false);\r\n        }}\r\n        aria-labelledby='contained-modal-title-vcenter'\r\n        size='xl'\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <SvgWithMessage Component={Empty} headMessage='Datos incompletos'\r\n                          message='Opps!! parece que aun no has seleccionado una semana para evaluar' />\r\n        </Modal.Body>\r\n\r\n      </Modal>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableContainer;\r\n"]},"metadata":{},"sourceType":"module"}