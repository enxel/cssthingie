{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RaulGuillen\\\\Desktop\\\\ONG\\\\pop_rdj_js\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Layout from './Components/Hoc/Layout';\nimport HomePage from './Pages/HomePage';\nimport Register from './Pages/Register';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Users from './Pages/Users';\nimport './App.css';\nimport Results from './Pages/Results';\nimport SingleResult from './Pages/SingleResult';\nimport LoginPage from './Pages/LoginPage';\nimport { auth, db } from './utils/firebase';\nimport AdminSettings from './Pages/AdminSettings';\nimport InternshipsPage from './Pages/InternshipsPage';\nimport InternshipsForm from './Container/InternshipsForm';\nimport SingleInternshipPage from './Pages/SingleInternshipPage';\nimport DashboardUser from './Pages/DashboardUser';\nimport CandidatesPage from './Pages/CandidatesPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [firebaseUser, setFirebaseUser] = React.useState(false);\n  const [role, setRole] = React.useState(null);\n  React.useEffect(() => {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        setFirebaseUser(user);\n        checkRol();\n      } else {\n        setFirebaseUser(null);\n      }\n    });\n  }, []);\n\n  const checkRol = () => {\n    db.ref('auth').on('value', snapshot => {\n      const authUsers = snapshot.val();\n      let currentUser = undefined;\n      authUsers.forEach(user => {\n        if (user.email === auth.currentUser.email) {\n          currentUser = user;\n        }\n      });\n      console.log(currentUser);\n      setRole(currentUser.rol);\n    }, error => console.log(error));\n  };\n\n  return firebaseUser !== false ? /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: LoginPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), role === 'company' && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/users\",\n          component: Users\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/results/:id\",\n          component: SingleResult\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/results\",\n          component: Results\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), role === 'admin' && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/settings\",\n          component: AdminSettings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 30\n        }, this), role === 'admin' && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/internships/new\",\n          component: InternshipsForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 30\n        }, this), !role && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          component: Register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), (role === 'admin' || role === 'intern') && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/internships/:id\",\n          component: SingleInternshipPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 51\n        }, this), (role === 'admin' || role === 'intern') && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/internships\",\n          component: InternshipsPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 51\n        }, this), role === 'intern' && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          component: DashboardUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 31\n        }, this), role === 'company' && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/candidates\",\n          component: CandidatesPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          component: HomePage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Cargando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"KN7oz/6ASSq42c0UqDDuFAhmK6A=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/App.js"],"names":["React","Layout","HomePage","Register","BrowserRouter","Router","Switch","Route","Users","Results","SingleResult","LoginPage","auth","db","AdminSettings","InternshipsPage","InternshipsForm","SingleInternshipPage","DashboardUser","CandidatesPage","App","firebaseUser","setFirebaseUser","useState","role","setRole","useEffect","onAuthStateChanged","user","checkRol","ref","on","snapshot","authUsers","val","currentUser","undefined","forEach","email","console","log","rol","error"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Layout from './Components/Hoc/Layout';\r\nimport HomePage from './Pages/HomePage';\r\nimport Register from './Pages/Register';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport Users from './Pages/Users';\r\nimport './App.css';\r\nimport Results from './Pages/Results';\r\nimport SingleResult from './Pages/SingleResult';\r\nimport LoginPage from './Pages/LoginPage';\r\nimport { auth, db } from './utils/firebase';\r\nimport AdminSettings from './Pages/AdminSettings';\r\nimport InternshipsPage from './Pages/InternshipsPage';\r\nimport InternshipsForm from './Container/InternshipsForm';\r\nimport SingleInternshipPage from './Pages/SingleInternshipPage';\r\nimport DashboardUser from './Pages/DashboardUser';\r\nimport CandidatesPage from './Pages/CandidatesPage';\r\n\r\nconst App = () => {\r\n  const [firebaseUser, setFirebaseUser] = React.useState(false);\r\n  const [role, setRole] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        setFirebaseUser(user);\r\n        checkRol();\r\n      } else {\r\n        setFirebaseUser(null);\r\n      }\r\n    });\r\n  }, []);\r\n  const checkRol = () => {\r\n    db.ref('auth').on('value', snapshot => {\r\n      const authUsers = snapshot.val();\r\n      let currentUser = undefined;\r\n      authUsers.forEach(user => {\r\n        if (user.email === auth.currentUser.email) {\r\n          currentUser = user;\r\n        }\r\n      });\r\n      console.log(currentUser);\r\n      setRole(currentUser.rol);\r\n    }, (error) => console.log(error));\r\n  };\r\n  return firebaseUser !== false ? (\r\n    <Router>\r\n      <Layout>\r\n        <Switch>\r\n          <Route path='/login' component={LoginPage} />\r\n          {role ==='company' && <Route path='/users' component={Users} />}\r\n          <Route path='/results/:id' component={SingleResult} />\r\n          <Route path='/results' component={Results} />\r\n          {role==='admin' && <Route path='/settings' component={AdminSettings} />}\r\n          {role==='admin' && <Route path='/internships/new' component={InternshipsForm} />}\r\n          {!role && <Route path='/register' component={Register} />}\r\n\r\n\r\n          {(role==='admin' || role==='intern') && <Route path='/internships/:id' component={SingleInternshipPage} />}\r\n          {(role==='admin' || role==='intern') && <Route path='/internships' component={InternshipsPage} />}\r\n\r\n          {role==='intern' && <Route path='/dashboard' component={DashboardUser} />}\r\n          {role==='company' && <Route path='/candidates' component={CandidatesPage} />}\r\n          <Route path='/' component={HomePage} />\r\n        </Switch>\r\n      </Layout>\r\n    </Router>\r\n  ) : (\r\n    <div>Cargando...</div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}