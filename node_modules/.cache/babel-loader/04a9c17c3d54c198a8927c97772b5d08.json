{"ast":null,"code":"import _defineProperty from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Form,Button}from'react-bootstrap';//import {useAuth0} from '@auth0/auth0-react'\n// import axios from 'axios'\nimport Question from'../Components/Question';import data from'./questions.json';import firebaseConfig from'../utils/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SurveyContainer=function SurveyContainer(_ref){var hideModal=_ref.hideModal,nameToShow=_ref.nameToShow,company=_ref.company,typeOfPerson=_ref.typeOfPerson,weekToEvaluate=_ref.weekToEvaluate,userId=_ref.userId;var _useState=useState({question1:'',question2:'',question3:'',question4:'',question5:'',question6:'',question7:'',question8:'',question9:'',question10:'',weekToEvaluate:'',userId:''}),_useState2=_slicedToArray(_useState,2),newAnswer=_useState2[0],setNewAnswer=_useState2[1];useEffect(function(){setNewAnswer(_objectSpread(_objectSpread({},newAnswer),{},{weekToEvaluate:weekToEvaluate,userId:userId}));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var question9=newAnswer.question9,question10=newAnswer.question10;var openQuestion=function openQuestion(index,questionText){var question;if(index===11){question=/*#__PURE__*/_jsxs(Form.Group,{className:\"d-flex flex-column survey-question p-3 rounded\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\" h3 text-center mb-3\",children:questionText}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"question9\",value:question9,rows:4,onChange:handleOpenQuestion,required:true})]});}else if(index===12){question=/*#__PURE__*/_jsxs(Form.Group,{className:\"d-flex flex-column survey-question p-3 rounded\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\" h3 text-center mb-3\",children:questionText}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"question10\",value:question10,rows:4,onChange:handleOpenQuestion,required:true})]});}return question;};var handleAnswer=function handleAnswer(e){setNewAnswer(_objectSpread(_objectSpread({},newAnswer),{},_defineProperty({},e.target.name,e.target.id)));};var handleOpenQuestion=function handleOpenQuestion(e){setNewAnswer(_objectSpread(_objectSpread({},newAnswer),{},_defineProperty({},e.target.name,e.target.value)));};var sendData=function sendData(e){e.preventDefault();hideModal();//here you just need to send this the newUser Object\n/*const dataFirebase = axios.create({baseURL: process.env.REACT_APP_FIREBASE_URL})\r\n    dataFirebase.post('/answers.json', newAnswer)\r\n      .then(res => console.log(res))*/var bdRef=firebaseConfig.database().ref('answers');bdRef.push(newAnswer);};return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center mt-5  justify-content-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"h3  text-justify mx-4 \",children:[\"En los siguientes \\xEDtems, favor calificar seg\\xFAn considere conveniente a \",/*#__PURE__*/_jsx(\"strong\",{children:nameToShow}),\" en el desempe\\xF1o de sus actividades como pasante en la instituci\\xF3n \",/*#__PURE__*/_jsx(\"strong\",{children:company})]}),/*#__PURE__*/_jsx(\"p\",{className:\"h3 d-flex text-justifyr mx-4\",children:\"Recuerde tener en cuenta que en la escala del 1 al 5, a mayor puntaje mejor es el desempe\\xF1o que mostr\\xF3 el pasante.\"}),/*#__PURE__*/_jsxs(Form,{className:\"survey-form-container my-5 p-5\",onSubmit:sendData,children:[data.questions.map(function(question,index){return question.type==='closed'||question.type==='label'?question.userType.includes(typeOfPerson)&&/*#__PURE__*/_jsx(Question,{questionText:question.text,index:index,type:question.type,handleAnswer:handleAnswer}):openQuestion(index,question.text);}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-lg btn-block btn-form mx-auto\",variant:\"primary\",type:\"submit\",style:{color:'#FFF',backgroundColor:'#FE3E00',borderBlockColor:'#FE3E00',boxShadow:'#FE3E00',borderBottomColor:'#FE3E00',borderColor:'#FE3E00'},children:\"Enviar\"})]})]});};export default SurveyContainer;","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Container/SurveyContainer.js"],"names":["React","useState","useEffect","Form","Button","Question","data","firebaseConfig","SurveyContainer","hideModal","nameToShow","company","typeOfPerson","weekToEvaluate","userId","question1","question2","question3","question4","question5","question6","question7","question8","question9","question10","newAnswer","setNewAnswer","openQuestion","index","questionText","question","handleOpenQuestion","handleAnswer","e","target","name","id","value","sendData","preventDefault","bdRef","database","ref","push","questions","map","type","userType","includes","text","color","backgroundColor","borderBlockColor","boxShadow","borderBottomColor","borderColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\n//import {useAuth0} from '@auth0/auth0-react'\r\n// import axios from 'axios'\r\nimport Question from '../Components/Question';\r\nimport data from './questions.json';\r\nimport firebaseConfig from '../utils/firebase';\r\n\r\nconst SurveyContainer = ({ hideModal, nameToShow, company, typeOfPerson, weekToEvaluate, userId }) => {\r\n  const [newAnswer, setNewAnswer] = useState({\r\n    question1: '',\r\n    question2: '',\r\n    question3: '',\r\n    question4: '',\r\n    question5: '',\r\n    question6: '',\r\n    question7: '',\r\n    question8: '',\r\n    question9: '',\r\n    question10: '',\r\n    weekToEvaluate: '',\r\n    userId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    setNewAnswer({ ...newAnswer, weekToEvaluate: weekToEvaluate, userId: userId });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n\r\n  const { question9, question10 } = newAnswer;\r\n\r\n  const openQuestion = (index, questionText) => {\r\n    let question;\r\n    if (index === 11) {\r\n      question = (\r\n        <Form.Group className='d-flex flex-column survey-question p-3 rounded'>\r\n          <Form.Label className=' h3 text-center mb-3'>{questionText}</Form.Label>\r\n          <Form.Control\r\n            as='textarea'\r\n            name='question9'\r\n            value={question9}\r\n            rows={4}\r\n            onChange={handleOpenQuestion}\r\n            required\r\n          />\r\n        </Form.Group>\r\n      );\r\n    } else if (index === 12) {\r\n      question = (\r\n        <Form.Group className='d-flex flex-column survey-question p-3 rounded'>\r\n          <Form.Label className=' h3 text-center mb-3'>{questionText}</Form.Label>\r\n          <Form.Control\r\n            as='textarea'\r\n            name='question10'\r\n            value={question10}\r\n            rows={4}\r\n            onChange={handleOpenQuestion}\r\n            required\r\n          />\r\n        </Form.Group>\r\n      );\r\n    }\r\n    return question;\r\n  };\r\n\r\n  const handleAnswer = (e) => {\r\n    setNewAnswer({ ...newAnswer, [e.target.name]: e.target.id });\r\n  };\r\n\r\n  const handleOpenQuestion = (e) => {\r\n    setNewAnswer({ ...newAnswer, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const sendData = (e) => {\r\n    e.preventDefault();\r\n    hideModal();\r\n    //here you just need to send this the newUser Object\r\n    /*const dataFirebase = axios.create({baseURL: process.env.REACT_APP_FIREBASE_URL})\r\n    dataFirebase.post('/answers.json', newAnswer)\r\n      .then(res => console.log(res))*/\r\n    const bdRef = firebaseConfig.database().ref('answers');\r\n    bdRef.push(newAnswer);\r\n\r\n  };\r\n\r\n  return (\r\n    <div className='d-flex flex-column align-items-center mt-5  justify-content-center'>\r\n      <p className='h3  text-justify mx-4 '>\r\n        En los siguientes ítems, favor calificar según considere conveniente\r\n        a <strong>{nameToShow}</strong> en el desempeño de sus actividades como pasante en la\r\n        institución <strong>{company}</strong>\r\n      </p>\r\n      <p className='h3 d-flex text-justifyr mx-4'>\r\n        Recuerde tener en cuenta que en la escala del 1 al 5, a mayor puntaje mejor es el desempeño que mostró el\r\n        pasante.\r\n      </p>\r\n      <Form className='survey-form-container my-5 p-5' onSubmit={sendData}>\r\n        {\r\n          data.questions.map((question, index) => (\r\n            (question.type === 'closed' || question.type === 'label') ? (\r\n              question.userType.includes(typeOfPerson) && (<Question\r\n                questionText={question.text}\r\n                index={index}\r\n                type={question.type}\r\n                handleAnswer={handleAnswer}\r\n              />)\r\n            ) : openQuestion(index, question.text)\r\n          ))\r\n        }\r\n\r\n\r\n        <Button\r\n          className='btn btn-lg btn-block btn-form mx-auto'\r\n          variant='primary'\r\n          type='submit'\r\n          style={{\r\n            color: '#FFF',\r\n            backgroundColor: '#FE3E00',\r\n            borderBlockColor: '#FE3E00',\r\n            boxShadow: '#FE3E00',\r\n            borderBottomColor: '#FE3E00',\r\n            borderColor: '#FE3E00'\r\n          }}\r\n        >\r\n          Enviar\r\n        </Button>\r\n      </Form>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SurveyContainer;\r\n"]},"metadata":{},"sourceType":"module"}