{"ast":null,"code":"import _slicedToArray from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable jsx-a11y/img-redundant-alt */import React,{useState}from'react';import{Navbar,Nav}from'react-bootstrap';import{NavLink}from'react-router-dom';import LoginButton from'../Components/LoginButton';import LogoutButton from'../Components/LogoutButton';import logo from'../Resources/logo_pop.png';import{auth,db}from'../utils/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NavbarContainer(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),authUser=_React$useState2[0],setUser=_React$useState2[1];var _useState=useState({}),_useState2=_slicedToArray(_useState,2),currentUserData=_useState2[0],setCurrentUserData=_useState2[1];React.useEffect(function(){auth.onAuthStateChanged(function(user){if(user){setUser(user);}else{setUser(null);}});},[]);React.useEffect(function(){auth.onAuthStateChanged(function(user){if(user){checkRol();}});},[]);var checkRol=function checkRol(){db.ref('auth').on('value',function(snapshot){var authUsers=snapshot.val();var currentUser=undefined;authUsers.forEach(function(user){if(user.email===auth.currentUser.email){currentUser=user;}});setCurrentUserData(currentUser);},function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(Navbar,{bg:\"light\",expand:\"lg\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{href:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,width:140,\"data-aos\":\"zoom-in-left\",className:\"p-3 img-fluid\",alt:\"Responsive image\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"basic-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{className:\"ml-auto\",children:[authUser&&currentUserData.rol==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[\"  \",/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/internships\",exact:true,children:\"Pasantias\"}),/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/results\",exact:true,children:\"Resultados\"}),/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/settings\",exact:true,children:\"Configuraciones\"})]}),authUser&&currentUserData.rol==='company'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/users\",exact:true,children:\"Evaluacion\"}),/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/candidates\",exact:true,children:\"Candidatos\"})]}),authUser&&currentUserData.rol==='intern'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/dashboard\",exact:true,children:\"Panel\"}),/*#__PURE__*/_jsx(NavLink,{className:\"nav-item\",to:\"/internships\",exact:true,children:\"Ofertas\"})]}),authUser?/*#__PURE__*/_jsx(LogoutButton,{}):/*#__PURE__*/_jsx(LoginButton,{})]})})]});}","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Container/NavbarContainer.js"],"names":["React","useState","Navbar","Nav","NavLink","LoginButton","LogoutButton","logo","auth","db","NavbarContainer","authUser","setUser","currentUserData","setCurrentUserData","useEffect","onAuthStateChanged","user","checkRol","ref","on","snapshot","authUsers","val","currentUser","undefined","forEach","email","error","console","log","rol"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, { useState } from 'react';\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport { NavLink } from 'react-router-dom';\r\nimport LoginButton from '../Components/LoginButton';\r\nimport LogoutButton from '../Components/LogoutButton';\r\nimport logo from '../Resources/logo_pop.png';\r\nimport { auth, db } from '../utils/firebase';\r\n\r\nexport default function NavbarContainer() {\r\n  const [authUser, setUser] = React.useState(null);\r\n  const [currentUserData, setCurrentUserData] = useState({});\r\n  React.useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        setUser(user);\r\n      } else {\r\n        setUser(null);\r\n      }\r\n    });\r\n  }, []);\r\n  React.useEffect(() => {\r\n    auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        checkRol();\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const checkRol = () => {\r\n    db.ref('auth').on('value', snapshot => {\r\n      const authUsers = snapshot.val();\r\n      let currentUser = undefined;\r\n      authUsers.forEach(user => {\r\n        if (user.email === auth.currentUser.email) {\r\n          currentUser = user;\r\n        }\r\n      });\r\n      setCurrentUserData(currentUser);\r\n    }, (error) => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <Navbar bg='light' expand='lg'>\r\n      <Navbar.Brand href='/'>\r\n        <img\r\n          src={logo}\r\n          width={140}\r\n          data-aos='zoom-in-left'\r\n          className='p-3 img-fluid'\r\n          alt='Responsive image'\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n      <Navbar.Collapse id='basic-navbar-nav'>\r\n        <Nav className='ml-auto'>\r\n          {\r\n            authUser && currentUserData.rol === 'admin' && (\r\n              <>  <NavLink className='nav-item' to='/internships' exact>\r\n                Pasantias\r\n              </NavLink>\r\n                <NavLink className='nav-item' to='/results' exact>\r\n                  Resultados\r\n                </NavLink>\r\n                <NavLink className='nav-item' to='/settings' exact>\r\n                  Configuraciones\r\n                </NavLink></>)\r\n          }\r\n          {\r\n            authUser && currentUserData.rol === 'company' && (\r\n              <><NavLink className='nav-item' to='/users' exact>\r\n                Evaluacion\r\n              </NavLink><NavLink className='nav-item' to='/candidates' exact>\r\n                Candidatos\r\n              </NavLink></>)\r\n          }\r\n          {\r\n            authUser && currentUserData.rol === 'intern' && (\r\n              <><NavLink className='nav-item' to='/dashboard' exact>\r\n                Panel\r\n              </NavLink>\r\n                <NavLink className='nav-item' to='/internships' exact>\r\n                  Ofertas\r\n                </NavLink></>\r\n            )\r\n          }\r\n          {\r\n            authUser ? (<LogoutButton />) : (<LoginButton />)\r\n          }\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}