{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Form,Button}from'react-bootstrap';import{withRouter}from'react-router-dom';import{auth}from'../utils/firebase';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FormLogin=function FormLogin(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),pass=_React$useState4[0],setPass=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var validateForm=function validateForm(e){e.preventDefault();if(!email.trim()){setError('Datos vacíos email!');return;}if(!pass.trim()){setError('Datos vacíos contraseña!');return;}if(pass.length<6){setError('6 o más carácteres en contraseña ');return;}setError(null);login();};var login=React.useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return auth.signInWithEmailAndPassword(email,pass);case 3:setEmail('');setPass('');setError(null);props.history.push('/');_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);if(_context.t0.code==='auth/user-not-found'){setError('Usuario o contraseña incorrecta');}if(_context.t0.code==='auth/wrong-password'){setError('Usuario o contraseña incorrecta');}case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);})),[email,pass,props.history]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-2\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:validateForm,children:[error?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}):null,/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",required:true,placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",required:true,placeholder:\"Password\",onChange:function onChange(e){return setPass(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center pb-4\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"w-100 rdjf\",children:\"Login\"})})]})})});};export default withRouter(FormLogin);","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Components/FormLogin.js"],"names":["React","Form","Button","withRouter","auth","FormLogin","props","useState","email","setEmail","pass","setPass","error","setError","validateForm","e","preventDefault","trim","length","login","useCallback","signInWithEmailAndPassword","history","push","code","target","value"],"mappings":"meAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,IAAT,KAAqB,mBAArB,C,6IAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,oBAA0BN,KAAK,CAACO,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,qBAAwBT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,qDAAOG,IAAP,qBAAaC,OAAb,qBACA,qBAA0BX,KAAK,CAACO,QAAN,CAAe,IAAf,CAA1B,qDAAOK,KAAP,qBAAcC,QAAd,qBAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAI,CAACR,KAAK,CAACS,IAAN,EAAL,CAAmB,CACjBJ,QAAQ,CAAC,qBAAD,CAAR,CACA,OACD,CACD,GAAI,CAACH,IAAI,CAACO,IAAL,EAAL,CAAkB,CAChBJ,QAAQ,CAAC,0BAAD,CAAR,CAEA,OACD,CACD,GAAIH,IAAI,CAACQ,MAAL,CAAc,CAAlB,CAAqB,CACnBL,QAAQ,CAAC,mCAAD,CAAR,CACA,OACD,CACDA,QAAQ,CAAC,IAAD,CAAR,CACAM,KAAK,GACN,CAjBD,CAkBA,GAAMA,CAAAA,KAAK,CAAGnB,KAAK,CAACoB,WAAN,sEAAkB,yKAEtBhB,CAAAA,IAAI,CAACiB,0BAAL,CAAgCb,KAAhC,CAAuCE,IAAvC,CAFsB,QAG5BD,QAAQ,CAAC,EAAD,CAAR,CACAE,OAAO,CAAC,EAAD,CAAP,CACAE,QAAQ,CAAC,IAAD,CAAR,CACAP,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EAN4B,+EAQ5B,GAAI,YAAMC,IAAN,GAAe,qBAAnB,CAA0C,CACxCX,QAAQ,CAAC,iCAAD,CAAR,CACD,CACD,GAAI,YAAMW,IAAN,GAAe,qBAAnB,CAA0C,CACxCX,QAAQ,CAAC,iCAAD,CAAR,CACD,CAb2B,oEAAlB,GAeX,CAACL,KAAD,CAAQE,IAAR,CAAcJ,KAAK,CAACgB,OAApB,CAfW,CAAd,CAgBA,mBACE,sCACE,YAAK,SAAS,CAAC,MAAf,uBACE,MAAC,IAAD,EAAM,QAAQ,CAAER,YAAhB,WAEIF,KAAK,cACH,YAAK,SAAS,CAAC,oBAAf,UACGA,KADH,EADG,CAID,IANR,cAQE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,4BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,QAAQ,KAAnC,CAAoC,WAAW,CAAC,aAAhD,CAA8D,QAAQ,CAAE,kBAAAG,CAAC,QAAIN,CAAAA,QAAQ,CAACM,CAAC,CAACU,MAAF,CAASC,KAAV,CAAZ,EAAzE,EAFF,cAGE,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,4DAHF,GARF,cAgBE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,mBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,uBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,QAAQ,KAAtC,CAAuC,WAAW,CAAC,UAAnD,CAA8D,QAAQ,CAAE,kBAAAX,CAAC,QAAIJ,CAAAA,OAAO,CAACI,CAAC,CAACU,MAAF,CAASC,KAAV,CAAX,EAAzE,EAFF,GAhBF,cAqBE,YAAK,SAAS,CAAC,oCAAf,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,SAAS,CAAC,YAAlD,mBADF,EArBF,GADF,EADF,EADF,CAiCD,CAxED,CAyEA,cAAevB,CAAAA,UAAU,CAACE,SAAD,CAAzB","sourcesContent":["import React from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { auth } from '../utils/firebase';\r\n\r\n\r\nconst FormLogin = (props) => {\r\n  const [email, setEmail] = React.useState('');\r\n  const [pass, setPass] = React.useState('');\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const validateForm = (e) => {\r\n    e.preventDefault();\r\n    if (!email.trim()) {\r\n      setError('Datos vacíos email!');\r\n      return;\r\n    }\r\n    if (!pass.trim()) {\r\n      setError('Datos vacíos contraseña!');\r\n\r\n      return;\r\n    }\r\n    if (pass.length < 6) {\r\n      setError('6 o más carácteres en contraseña ');\r\n      return;\r\n    }\r\n    setError(null);\r\n    login();\r\n  };\r\n  const login = React.useCallback(async () => {\r\n    try {\r\n      await auth.signInWithEmailAndPassword(email, pass);\r\n      setEmail('');\r\n      setPass('');\r\n      setError(null);\r\n      props.history.push('/');\r\n    } catch (error) {\r\n      if (error.code === 'auth/user-not-found') {\r\n        setError('Usuario o contraseña incorrecta');\r\n      }\r\n      if (error.code === 'auth/wrong-password') {\r\n        setError('Usuario o contraseña incorrecta');\r\n      }\r\n    }\r\n  }, [email, pass, props.history]);\r\n  return (\r\n    <>\r\n      <div className='pt-2'>\r\n        <Form onSubmit={validateForm}>\r\n          {\r\n            error ? (\r\n              <div className='alert alert-danger'>\r\n                {error}\r\n              </div>\r\n            ) : null\r\n          }\r\n          <Form.Group controlId='formBasicEmail'>\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control type='email' required placeholder='Enter email' onChange={e => setEmail(e.target.value)} />\r\n            <Form.Text className='text-muted'>\r\n              We'll never share your email with anyone else.\r\n            </Form.Text>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId='formBasicPassword'>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control type='password' required placeholder='Password' onChange={e => setPass(e.target.value)} />\r\n          </Form.Group>\r\n\r\n          <div className='d-flex justify-content-center pb-4'>\r\n            <Button variant='primary' type='submit' className='w-100 rdjf'>\r\n              Login\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default withRouter(FormLogin);\r\n"]},"metadata":{},"sourceType":"module"}