{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RaulGuillen\\\\Desktop\\\\ONG\\\\pop_rdj_js\\\\src\\\\Pages\\\\CandidatesPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Card, Container, Modal } from 'react-bootstrap';\nimport { auth, db } from '../utils/firebase';\nimport { Link } from 'react-router-dom';\nimport gifTenor from '../Resources/tenor.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CandidatesPage = () => {\n  _s();\n\n  const [currentUserData, setCurrentUserData] = useState({});\n  const [internshipList, setIntershipList] = useState([]);\n  const [currentIntern, setCurrentIntern] = useState([]);\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = item => {\n    setCurrentIntern(item);\n    setShow(true);\n  };\n\n  useEffect(() => {\n    db.ref('auth').on('value', snapshot => {\n      const authUsers = snapshot.val();\n      let currentUser = undefined;\n      authUsers.forEach(user => {\n        if (user.email === auth.currentUser.email) {\n          currentUser = user;\n          getListIntern(currentUser.idCompany);\n        }\n      });\n      setCurrentUserData(currentUser);\n    }, error => console.log(error));\n  }, []);\n\n  const getListIntern = id => {\n    db.ref('internships').on('value', data => {\n      const internships = data.val();\n      const listOportinuties = [];\n\n      for (let intern of Object.keys(internships)) {\n        if (internships[intern].institution.value === id) {\n          listOportinuties.push(internships[intern]);\n        }\n      }\n\n      setIntershipList(listOportinuties);\n    });\n  };\n\n  const saveCV = () => {};\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [internshipList.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"No hay candidatos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 36\n    }, this) : internshipList.map(item => /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: item.modality\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: item.institution.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Duracion de \", item.duration, \" meses.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Numero de candidatos: \", item.candidates ? item.candidates.length : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), item.candidates ? /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            height: '38px',\n            alignSelf: 'flex-end'\n          },\n          variant: \"primary\",\n          onClick: () => handleShow(item.candidates),\n          children: \"Ver mas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 31\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)), /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Lista de candidatos: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: currentIntern.map(item => /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: item.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: item.resume,\n              className: \"btn btn-primary float-right\",\n              download: item.name,\n              children: \"Descargar CV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleClose,\n            style: {\n              backgroundColor: '#FE3E00',\n              borderBlockColor: '#FE3E00',\n              boxShadow: '#FE3E00',\n              borderBottomColor: '#FE3E00',\n              borderColor: '#FE3E00'\n            },\n            children: \"Aceptar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 11\n  }, this);\n};\n\n_s(CandidatesPage, \"W46uVa9vldYNmubGxVjaIQNffos=\");\n\n_c = CandidatesPage;\nexport default CandidatesPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CandidatesPage\");","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Pages/CandidatesPage.js"],"names":["React","useEffect","useState","Button","Card","Container","Modal","auth","db","Link","gifTenor","CandidatesPage","currentUserData","setCurrentUserData","internshipList","setIntershipList","currentIntern","setCurrentIntern","show","setShow","handleClose","handleShow","item","ref","on","snapshot","authUsers","val","currentUser","undefined","forEach","user","email","getListIntern","idCompany","error","console","log","id","data","internships","listOportinuties","intern","Object","keys","institution","value","push","saveCV","length","map","modality","name","label","duration","candidates","height","alignSelf","resume","backgroundColor","borderBlockColor","boxShadow","borderBottomColor","borderColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Card, Container, Modal } from 'react-bootstrap';\r\nimport { auth, db } from '../utils/firebase';\r\nimport { Link } from 'react-router-dom';\r\nimport gifTenor from '../Resources/tenor.gif';\r\n\r\nconst CandidatesPage = () => {\r\n  const [currentUserData, setCurrentUserData] = useState({});\r\n  const [internshipList, setIntershipList] = useState([]);\r\n  const [currentIntern, setCurrentIntern] = useState([]);\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = (item) => {\r\n    setCurrentIntern(item);\r\n    setShow(true);\r\n  };\r\n  useEffect(() => {\r\n    db.ref('auth').on('value', snapshot => {\r\n      const authUsers = snapshot.val();\r\n      let currentUser = undefined;\r\n      authUsers.forEach(user => {\r\n        if (user.email === auth.currentUser.email) {\r\n          currentUser = user;\r\n          getListIntern(currentUser.idCompany);\r\n        }\r\n      });\r\n      setCurrentUserData(currentUser);\r\n    }, (error) => console.log(error));\r\n  }, []);\r\n  const getListIntern = (id) => {\r\n    db.ref('internships').on('value', data => {\r\n      const internships = data.val();\r\n      const listOportinuties = [];\r\n      for (let intern of Object.keys(internships)) {\r\n        if (internships[intern].institution.value === id) {\r\n          listOportinuties.push((internships[intern]));\r\n        }\r\n      }\r\n      setIntershipList(listOportinuties);\r\n    });\r\n  };\r\n  const saveCV = () => {\r\n\r\n  };\r\n  return (<Container>\r\n    {internshipList.length === 0 ? <h2>No hay candidatos</h2> : internshipList.map(item => (\r\n      <Card className='mb-4'>\r\n        <Card.Header>{item.modality}</Card.Header>\r\n        <Card.Body className='d-flex justify-content-between'>\r\n          <div>\r\n            <Card.Title>{item.name}</Card.Title>\r\n            <Card.Text>\r\n              <h6>{item.institution.label}</h6>\r\n              <p>Duracion de {item.duration} meses.</p>\r\n            </Card.Text>\r\n            <p>Numero de candidatos: {item.candidates ? item.candidates.length : 0}</p>\r\n          </div>\r\n          {\r\n            item.candidates ? <Button style={{\r\n              height: '38px',\r\n              alignSelf: 'flex-end'\r\n            }} variant='primary' onClick={() => handleShow(item.candidates)}>Ver mas</Button> : ''\r\n          }\r\n        </Card.Body>\r\n      </Card>\r\n    ))}\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      aria-labelledby='contained-modal-title-vcenter'\r\n      centered\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Lista de candidatos: </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {currentIntern.map(item => (\r\n          <Card>\r\n            <Card.Header>{item.name}</Card.Header>\r\n            <Card.Body>\r\n              <Card.Title>{item.name}</Card.Title>\r\n              <Card.Text>\r\n                {item.email}\r\n              </Card.Text>\r\n              <a href={item.resume} className='btn btn-primary float-right' download={item.name}>Descargar CV</a>\r\n            </Card.Body>\r\n          </Card>\r\n        ))}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Link to='/'>\r\n          <Button\r\n            variant='primary'\r\n            onClick={handleClose}\r\n            style={{\r\n              backgroundColor: '#FE3E00',\r\n              borderBlockColor: '#FE3E00',\r\n              boxShadow: '#FE3E00',\r\n              borderBottomColor: '#FE3E00',\r\n              borderColor: '#FE3E00'\r\n            }}\r\n          >\r\n            Aceptar\r\n          </Button></Link>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  </Container>);\r\n};\r\nexport default CandidatesPage;\r\n"]},"metadata":{},"sourceType":"module"}