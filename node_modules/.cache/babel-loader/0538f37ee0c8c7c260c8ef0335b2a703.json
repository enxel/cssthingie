{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RaulGuillen\\\\Desktop\\\\ONG\\\\pop_rdj_js\\\\src\\\\Pages\\\\InternshipsPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Card, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { auth, db } from '../utils/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst InternshipsPage = props => {\n  _s();\n\n  const [internships, setInternships] = useState([]);\n  const [currentUserData, setCurrentUserData] = useState({});\n  useEffect(() => {\n    db.ref('internships').on('value', data => {\n      const internships = data.val();\n      const setOportinities = [];\n\n      for (let intern of Object.keys(internships)) {\n        internships[intern].id = intern;\n        setOportinities.push(internships[intern]);\n      }\n\n      checkRol();\n      setOportinities.reverse();\n      setInternships(setOportinities); //setInternships(setOptionsCompanies);\n    });\n  }, []);\n\n  const checkRol = () => {\n    db.ref('auth').on('value', snapshot => {\n      const authUsers = snapshot.val();\n      let currentUser = undefined;\n      authUsers.forEach(user => {\n        if (user.email === auth.currentUser.email) {\n          currentUser = user;\n        }\n      });\n      setCurrentUserData(currentUser);\n    }, error => console.log(error));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"Crear pasantias\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '35px'\n        },\n        children: currentUserData.rol === \"admin\" && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"internships/new\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn rdjf float-right\",\n            children: \"Agregar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), internships.map(intern => /*#__PURE__*/_jsxDEV(Card, {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          children: intern.modality\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          className: \"d-flex justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              children: intern.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: intern.institution.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Duracion de \", intern.duration, \" meses.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `internships/${intern.id}`,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                height: '38px',\n                alignSelf: 'flex-end'\n              },\n              variant: \"primary\",\n              children: \"Ver mas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(InternshipsPage, \"6YHi/ZThzC028qTPkwaIPHeOUh0=\");\n\n_c = InternshipsPage;\nexport default InternshipsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"InternshipsPage\");","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Pages/InternshipsPage.js"],"names":["React","useEffect","useState","Button","Card","Container","Link","auth","db","InternshipsPage","props","internships","setInternships","currentUserData","setCurrentUserData","ref","on","data","val","setOportinities","intern","Object","keys","id","push","checkRol","reverse","snapshot","authUsers","currentUser","undefined","forEach","user","email","error","console","log","height","rol","map","modality","name","institution","label","duration","alignSelf"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Card, Container } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth, db } from '../utils/firebase';\r\n\r\n\r\nconst InternshipsPage = (props) => {\r\n  const [internships, setInternships] = useState([]);\r\n  const [currentUserData, setCurrentUserData] = useState({});\r\n\r\n  useEffect(() => {\r\n    db.ref('internships').on('value', data => {\r\n      const internships = data.val();\r\n      const setOportinities = [];\r\n      for (let intern of Object.keys(internships)) {\r\n        internships[intern].id = intern;\r\n        setOportinities.push(internships[intern]);\r\n      }\r\n      checkRol();\r\n      setOportinities.reverse();\r\n      setInternships(setOportinities);\r\n      //setInternships(setOptionsCompanies);\r\n    });\r\n  }, []);\r\n  const checkRol = () => {\r\n    db.ref('auth').on('value', snapshot => {\r\n      const authUsers = snapshot.val();\r\n      let currentUser = undefined;\r\n      authUsers.forEach(user => {\r\n        if (user.email === auth.currentUser.email) {\r\n          currentUser = user;\r\n        }\r\n      });\r\n      setCurrentUserData(currentUser);\r\n    }, (error) => console.log(error));\r\n  };\r\n  return (\r\n    <>\r\n      <Container>\r\n        <h2 className='text-center'>Crear pasantias</h2>\r\n        <div style={{ height: '35px' }}>\r\n          {currentUserData.rol === \"admin\" &&  <Link to='internships/new'>\r\n            <button className='btn rdjf float-right'>Agregar</button>\r\n          </Link>}\r\n        </div>\r\n        <hr />\r\n        {internships.map(intern => (\r\n          <Card className='mb-4'>\r\n            <Card.Header>{intern.modality}</Card.Header>\r\n            <Card.Body className='d-flex justify-content-between'>\r\n              <div>\r\n                <Card.Title>{intern.name}</Card.Title>\r\n                <Card.Text>\r\n                  <h6>{intern.institution.label}</h6>\r\n                  <p>Duracion de {intern.duration} meses.</p>\r\n                </Card.Text>\r\n              </div>\r\n              <Link to={`internships/${intern.id}`}>\r\n                <Button style={{\r\n                  height: '38px',\r\n                  alignSelf: 'flex-end'\r\n                }} variant='primary'>Ver mas</Button>\r\n              </Link>\r\n\r\n            </Card.Body>\r\n          </Card>\r\n        ))}\r\n\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default (InternshipsPage);\r\n\r\n"]},"metadata":{},"sourceType":"module"}