{"ast":null,"code":"import _slicedToArray from\"C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Button,Table}from'react-bootstrap';import{Link}from'react-router-dom';import ModalResults from'../Components/ModalResults';import{db}from'../utils/firebase';import{withRouter}from'react-router-dom';import Calendar from'../Components/Calendar';import moment from'moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var usersData=[];var SingleResultContainer=function SingleResultContainer(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedDays=_useState2[0],setSelectedDays=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arrayUsers=_useState4[0],setUsers=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),arrayAws=_useState6[0],setAws=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userTable=_useState8[0],setUserTable=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),questions=_useState10[0],setQuestions=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),modalShow=_useState12[0],setModalShow=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),company=_useState14[0],setCompany=_useState14[1];var _useState15=useState({}),_useState16=_slicedToArray(_useState15,2),awsToShow=_useState16[0],setAwsToShow=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),userId=_useState18[0],setId=_useState18[1];var getToFirebase=function getToFirebase(ref){db.ref(ref).on('value',function(snapshot){var response=snapshot.val();switch(ref){case'answers':var auxAws=[];for(var key in response){auxAws.push(response[key]);}//console.log(auxAws);\n//setAwsToShow(auxAws.filter((data) => data.iduser === userId.id));\nsetAws(auxAws);break;case'companies':response.forEach(function(company){if(String(company.id)===props.history.location.pathname.substr(9)){setCompany(company);}});break;case'users':setUsers(response);usersData.push(response);break;default:setQuestions(questions);break;}},function(error){return console.log(error);});};var getQuestions=function getQuestions(){db.ref('questions').on('value',function(snapshot){var questions=snapshot.val();setQuestions(questions);},function(error){return console.log(error);});};useEffect(function(){getQuestions();getToFirebase('companies');getToFirebase('users');getToFirebase('answers');// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(function(){if(selectedDays.length>0){var validAnswers=[];arrayUsers.forEach(function(validUser){var validAnswer=undefined;arrayAws.forEach(function(answer){if(answer.userId===validUser.id){validAnswer=answer;}});validAnswer&&validAnswers.push(validAnswer);});var usersToBlock=[];arrayAws.forEach(function(item){if(item.weekToEvaluate[0]===moment(selectedDays[1]).format('LL')&&item.weekToEvaluate[1]===moment(selectedDays[5]).format('LL')){setAwsToShow(item);var user=arrayUsers.find(function(data){return data.id===item.userId&&data.company.includes(Number(props.history.location.pathname.substr(9)));});if(user){usersToBlock.push(user);}}});setUserTable(usersToBlock);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[selectedDays,arrayAws]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between p-5\",children:[/*#__PURE__*/_jsx(Link,{to:\"/results\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",style:{backgroundColor:'#FE3E00',borderBlockColor:'#FE3E00',boxShadow:'#FE3E00',borderBottomColor:'#FE3E00',borderColor:'#FE3E00'},children:\"Regresar\"})}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Resultados de \",company.name?company.name:'...']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-3\",children:\"Por favor sigue estos sencillos pasos:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-75 mb-4 h4\",children:[/*#__PURE__*/_jsxs(\"ol\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Establece la fecha de la gusta ver la evaluaci\\xF3n:\"}),\" Para esto, puedes navegar con las fechas en el calendario para establecer el mes a ver y luego debes dar clic en el calendario sobre la semana que deseas ver.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Calendar,{selectedDays:selectedDays,setSelectedDays:setSelectedDays})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Selecciona persona a ver su resultado:\"}),\" En el siguiente listado, por favor da clic en el bot\\xF3n correspondiente al pasante que deseas ver.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:selectedDays.length===7?/*#__PURE__*/_jsxs(\"h4\",{className:\"bg-success text-white rounded px-4\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Est\\xE1s viendo las evaluaciones de la semana:\"}),moment(selectedDays[1]).format('LL'),\" \\u2013\",' ',moment(selectedDays[5]).format('LL')]}):/*#__PURE__*/_jsx(\"h4\",{className:\"font-weight-bold bg-danger text-white rounded px-4\",children:\"A\\xFAn no has establecido una semana para evaluar\"})})]}),userTable.length===0?/*#__PURE__*/_jsx(\"h4\",{children:\"No hay evaluaciones en la fecha seleccionada.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\" mb-5\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center d-flex justify-content-around align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Nombre\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Accion\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userTable.map(function(user,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:user.name}),/*#__PURE__*/_jsx(\"td\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:function onClick(){setModalShow(true);setId(user);},style:{backgroundColor:'#FE3E00',borderBlockColor:'#FE3E00',boxShadow:'#FE3E00',borderBottomColor:'#FE3E00',borderColor:'#FE3E00'},children:\"Ver\"},key)})]},key);})})]})})]}),/*#__PURE__*/_jsx(ModalResults,{show:modalShow,onHide:function onHide(){return setModalShow(false);},iduser:userId,questions:questions.filter(function(data){return data.userType.includes(userId.type);}),aws:awsToShow})]})});};export default withRouter(SingleResultContainer);","map":{"version":3,"sources":["C:/Users/RaulGuillen/Desktop/ONG/pop_rdj_js/src/Container/SingleResultContainer.js"],"names":["React","useEffect","useState","Button","Table","Link","ModalResults","db","withRouter","Calendar","moment","usersData","SingleResultContainer","props","selectedDays","setSelectedDays","arrayUsers","setUsers","arrayAws","setAws","userTable","setUserTable","questions","setQuestions","modalShow","setModalShow","company","setCompany","awsToShow","setAwsToShow","userId","setId","getToFirebase","ref","on","snapshot","response","val","auxAws","key","push","forEach","String","id","history","location","pathname","substr","error","console","log","getQuestions","length","validAnswers","validUser","validAnswer","undefined","answer","usersToBlock","item","weekToEvaluate","format","user","find","data","includes","Number","backgroundColor","borderBlockColor","boxShadow","borderBottomColor","borderColor","name","map","filter","userType","type"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport ModalResults from '../Components/ModalResults';\r\nimport { db } from '../utils/firebase';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Calendar from '../Components/Calendar';\r\nimport moment from 'moment';\r\n\r\nconst usersData = [];\r\nconst SingleResultContainer = (props) => {\r\n  const [selectedDays, setSelectedDays] = useState([]);\r\n  const [arrayUsers, setUsers] = useState([]);\r\n  const [arrayAws, setAws] = useState([]);\r\n  const [userTable, setUserTable] = useState([]);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [company, setCompany] = useState({});\r\n  const [awsToShow, setAwsToShow] = useState({});\r\n  const [userId, setId] = useState(0);\r\n\r\n  const getToFirebase = (ref) => {\r\n    db.ref(ref).on('value', snapshot => {\r\n      const response = snapshot.val();\r\n      switch (ref) {\r\n        case 'answers':\r\n          const auxAws = [];\r\n          for (let key in response) {\r\n            auxAws.push(response[key]);\r\n          }\r\n          //console.log(auxAws);\r\n          //setAwsToShow(auxAws.filter((data) => data.iduser === userId.id));\r\n\r\n          setAws(auxAws);\r\n          break;\r\n        case 'companies':\r\n          response.forEach((company) => {\r\n            if (String(company.id) === props.history.location.pathname.substr(9)) {\r\n              setCompany(company);\r\n            }\r\n          });\r\n          break;\r\n        case 'users':\r\n          setUsers(response);\r\n          usersData.push(response);\r\n          break;\r\n        default:\r\n          setQuestions(questions);\r\n          break;\r\n\r\n      }\r\n    }, (error) => console.log(error));\r\n  };\r\n\r\n  const getQuestions = () => {\r\n    db.ref('questions').on('value', snapshot => {\r\n      const questions = snapshot.val();\r\n      setQuestions(questions);\r\n    }, (error) => console.log(error));\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getQuestions();\r\n    getToFirebase('companies');\r\n    getToFirebase('users');\r\n    getToFirebase('answers');\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedDays.length > 0) {\r\n      const validAnswers = [];\r\n      arrayUsers.forEach(validUser => {\r\n        let validAnswer = undefined;\r\n        arrayAws.forEach(answer => {\r\n          if (answer.userId === validUser.id) {\r\n            validAnswer = answer;\r\n          }\r\n        });\r\n        validAnswer && validAnswers.push(validAnswer);\r\n      });\r\n      const usersToBlock = [];\r\n      arrayAws.forEach(item => {\r\n        if (item.weekToEvaluate[0] === moment(selectedDays[1]).format('LL') &&\r\n          item.weekToEvaluate[1] === moment(selectedDays[5]).format('LL')) {\r\n          setAwsToShow(item);\r\n          const user = arrayUsers.find((data) => (data.id === item.userId && data.company.includes(Number(props.history.location.pathname.substr(9)))));\r\n          if (user) {\r\n\r\n            usersToBlock.push(user);\r\n          }\r\n        }\r\n      });\r\n      setUserTable(usersToBlock);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedDays, arrayAws]);\r\n\r\n  return (\r\n    <>\r\n      <div className='container'>\r\n        <div className='d-flex justify-content-between p-5'>\r\n          <Link to='/results'>\r\n            <Button\r\n              variant='primary'\r\n              style={{\r\n                backgroundColor: '#FE3E00',\r\n                borderBlockColor: '#FE3E00',\r\n                boxShadow: '#FE3E00',\r\n                borderBottomColor: '#FE3E00',\r\n                borderColor: '#FE3E00'\r\n              }}\r\n            >\r\n              Regresar\r\n            </Button>\r\n          </Link>\r\n          <h3>Resultados de {company.name ? company.name : '...'}</h3>\r\n        </div>\r\n        <div className='d-flex flex-column align-items-center'>\r\n          <h4 className='mb-3'>Por favor sigue estos sencillos pasos:</h4>\r\n          <div className='w-75 mb-4 h4'>\r\n            <ol>\r\n              <li><strong>Establece la fecha de la gusta ver la evaluación:</strong> Para esto, puedes navegar con las\r\n                fechas en el calendario para establecer el mes a ver y luego debes dar clic en el calendario sobre la\r\n                semana que deseas ver.\r\n              </li>\r\n              <div className='d-flex justify-content-center'>\r\n                <Calendar selectedDays={selectedDays} setSelectedDays={setSelectedDays} />\r\n              </div>\r\n              <li><strong>Selecciona persona a ver su resultado:</strong> En el siguiente listado, por favor da clic en\r\n                el botón correspondiente al pasante que deseas ver.\r\n              </li>\r\n            </ol>\r\n            <div className='d-flex justify-content-center'>\r\n              {selectedDays.length === 7 ? (\r\n                  <h4 className='bg-success text-white rounded px-4'>\r\n                    <strong>Estás viendo las evaluaciones de la semana:</strong>\r\n                    {moment(selectedDays[1]).format('LL')} –{' '}\r\n                    {moment(selectedDays[5]).format('LL')}\r\n                  </h4>\r\n                ) :\r\n                (\r\n                  <h4 className='font-weight-bold bg-danger text-white rounded px-4'>Aún no has establecido una semana\r\n                    para evaluar</h4>\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          {userTable.length === 0 ? <h4>No hay evaluaciones en la fecha seleccionada.</h4> :\r\n            <div className='w-100'>\r\n              <Table striped bordered hover className=' mb-5'>\r\n                <thead>\r\n                <tr>\r\n                  <th className='text-center d-flex justify-content-around align-items-center'>\r\n                    <div>Nombre</div>\r\n                  </th>\r\n                  <th className='text-center'>Accion</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {userTable.map((user, key) => (\r\n                  <tr key={key}>\r\n                    <td className='text-center'>{user.name}</td>\r\n                    <td className='d-flex justify-content-center'>\r\n                      <Button\r\n                        variant='primary'\r\n                        onClick={() => {\r\n                          setModalShow(true);\r\n                          setId(user);\r\n                        }}\r\n                        style={{\r\n                          backgroundColor: '#FE3E00',\r\n                          borderBlockColor: '#FE3E00',\r\n                          boxShadow: '#FE3E00',\r\n                          borderBottomColor: '#FE3E00',\r\n                          borderColor: '#FE3E00'\r\n                        }}\r\n                        key={key}\r\n                      >\r\n                        Ver\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                </tbody>\r\n              </Table>\r\n            </div>}\r\n        </div>\r\n\r\n        <ModalResults\r\n          show={modalShow}\r\n          onHide={() => setModalShow(false)}\r\n          iduser={userId}\r\n          questions={questions.filter((data) => data.userType.includes(userId.type))}\r\n          aws={awsToShow}\r\n        />\r\n\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(SingleResultContainer);\r\n"]},"metadata":{},"sourceType":"module"}